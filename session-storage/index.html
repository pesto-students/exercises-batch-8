<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="shortcut icon"
      href="https://www.pesto.tech/assets/favicon.ico"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Document</title>
  </head>

  <body>
    <h1 class="heading">Session Storage Editor</h1>

    <form>
      Key:
      <input type="text" name="firstname" class="input" id="key" /> Value:
      <input type="text" name="lastname" class="input" id="value" />

      <input
        type="button"
        onclick="saveToSessionStorage()"
        value="Submit"
        class="btn"
      />
    </form>
    <div style="display:flex; align-items: center;justify-content: center;">
      <ul id="listOfStoredItems"></ul>
    </div>
    <!-- Do not remove the below div -->
    <div class="status"></div>
    <script src="check.js"></script>
    <script>
      const updateList = () => {
        const keys = Object.keys(sessionStorage);
        const list = keys.reduce((acc, key) => {
          acc += `<li>${key} - ${sessionStorage.getItem(
            key
          )} <button onclick="deleteItem('${key}')">x</button></li>`;
          return acc;
        }, ``);
        document.getElementById('listOfStoredItems').innerHTML = list;
      };
      updateList();

      const saveToSessionStorage = () => {
        const key = document.getElementById('key').value;
        const value = document.getElementById('value').value;
        sessionStorage.setItem(key, value);
        updateList();
      };
      const deleteItem = key => {
        sessionStorage.removeItem(key);
        updateList();
      };
      document.addEventListener('keypress', function(e) {
        var key = e.which || e.keyCode;
        if (key === 13) {
          saveToSessionStorage();
        }
      });
    </script>
  </body>
</html>
